"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.withExpoUpdates = void 0;
const Updates_1 = require("../../android/Updates");
const Updates_2 = require("../../ios/Updates");
const withRunOnce_1 = require("../withRunOnce");
const withStaticPlugin_1 = require("../withStaticPlugin");
// Local unversioned updates plugin
const packageName = 'expo-updates';
const withExpoUpdates = (config, props) => {
    return withStaticPlugin_1.withStaticPlugin(config, {
        _isLegacyPlugin: true,
        // Pass props to the static plugin if it exists.
        plugin: [packageName, props],
        // If the static plugin isn't found, use the unversioned one.
        fallback: withRunOnce_1.createRunOncePlugin(config => withUnversionedUpdates(config, props), packageName),
    });
};
exports.withExpoUpdates = withExpoUpdates;
const withUnversionedUpdates = (config, props) => {
    config = Updates_1.withUpdates(config, props);
    config = Updates_2.withUpdates(config, props);
    return config;
};
exports.default = exports.withExpoUpdates;
//# sourceMappingURL=expo-updates.js.map