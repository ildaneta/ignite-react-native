{"version":3,"file":"history.js","sourceRoot":"","sources":["../../src/utils/history.ts"],"names":[],"mappings":";;;AAUA,SAAgB,cAAc,CAC5B,MAAqC,EACrC,IAAY;;IAEZ,OAAO,MAAA,MAAA,MAAA,MAAM,CAAC,SAAS,0CAAE,aAAa,0CAAG,IAAI,CAAC,mCAAI,IAAI,CAAC;AACzD,CAAC;AALD,wCAKC;AAED,SAAgB,cAAc,CAC5B,MAAkB,EAClB,IAA+D;IAE/D,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE;QACrB,MAAM,CAAC,SAAS,GAAG,EAAE,CAAC;KACvB;IACD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,aAAa,EAAE;QACnC,MAAM,CAAC,SAAS,CAAC,aAAa,GAAG,EAAE,CAAC;KACrC;IAED,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;QACjB,IAAI,CAAC,OAAO,GAAG,aAAa,CAAC;KAC9B;IAED,MAAM,CAAC,SAAS,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IAEjD,OAAO,MAAM,CAAC;AAChB,CAAC;AAlBD,wCAkBC","sourcesContent":["import { ExpoConfig } from '@expo/config-types';\n\nimport { ModPlatform } from '../Plugin.types';\n\nexport type PluginHistoryItem = {\n  name: string;\n  version: string;\n  platform?: ModPlatform;\n};\n\nexport function getHistoryItem(\n  config: Pick<ExpoConfig, '_internal'>,\n  name: string\n): PluginHistoryItem | null {\n  return config._internal?.pluginHistory?.[name] ?? null;\n}\n\nexport function addHistoryItem(\n  config: ExpoConfig,\n  item: Omit<PluginHistoryItem, 'version'> & { version?: string }\n): ExpoConfig {\n  if (!config._internal) {\n    config._internal = {};\n  }\n  if (!config._internal.pluginHistory) {\n    config._internal.pluginHistory = {};\n  }\n\n  if (!item.version) {\n    item.version = 'UNVERSIONED';\n  }\n\n  config._internal.pluginHistory[item.name] = item;\n\n  return config;\n}\n"]}